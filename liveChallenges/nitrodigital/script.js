"use strict";console.log("Script carregado");var data_json=[],search_temp="",url_to_json="assets/dados.json",i=0;function getData(n){var e;clearForm(),self.fetch?(console.log("O recusro Fetch funciona..."),console.log("Valor inserido: "+n),fetch(url_to_json).then(function(e){e.json().then(function(e){data_json=e.encomendas,console.log(data_json),search(n)})}).catch(function(e){console.error("Json não encontrado, url: ",e)})):(console.log("Fetch não é suportado"),console.log("Valor inserido: "+n),(e=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&200==this.status&&(data_json=JSON.parse(this.responseText).encomendas,console.log(data_json),search(n))},e.open("GET",url_to_json,!0),e.send())}function search(e){for(i=0;i<data_json.length;i++)if(e==data_json[i].id)return search_temp=data_json[i],console.log(data_json[i]),void valueFound();0==search_temp.length&&(console.log("O número não foi encontrado"),document.getElementById("msgError").style.display="block")}function valueFound(){document.getElementById("msgSuccess").style.display="block",document.getElementById("customerName").innerHTML=search_temp.numero+" - "+search_temp.cliente.nome,document.getElementById("amount").innerHTML="R$ "+new Number(search_temp.valor).toLocaleString("pt-BR"),document.getElementById("date").innerHTML=new Date(search_temp.data).toLocaleDateString("pt-BR"),1==search_temp.entregue?document.getElementById("status").innerHTML="Entregue":document.getElementById("status").innerHTML="Entregar"}function clearForm(){search_temp="",document.getElementById("msgSuccess").style.display="none",document.getElementById("msgError").style.display="none"}document.getElementById("searchForm").addEventListener("submit",function(e){console.log("Prevenção de evento padrão"),e.preventDefault(),console.log("Pesquisando..."),getData(requestNumber.value)});